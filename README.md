# Database

## SQL ì¢…ë¥˜
1. ddl (Data Definition Language)
    1) ë°ì´í„° ì •ì˜ì–´
    2) ë°ì´í„°ë² ì´ìŠ¤ ê°ì²´(ë°ì´í„°ë² ì´ìŠ¤, í…Œì´ë¸”, ì‚¬ìš©ìž ë“±)ì˜ ì •ë³´ë¥¼ ë‹¤ë£¨ëŠ” ì–¸ì–´
2. DML (Data Manipulation Language)
    1) ë°ì´í„° ì¡°ìž‘ì–´
    2) ì‹¤ì œ ë°ì´í„°ë¥¼ ë‹¤ë£¨ëŠ” ì–¸ì–´
    3) ì¢…ë¥˜
       (1) INSERT: ì‚½ìž…
       (2) UPDATE: ê°±ì‹ 
       (3) DELETE: ì‚­ì œ
3. DQL (Data Query Language)
    1) ë°ì´í„° ì§ˆì˜ì–´
    2) ë°ì´í„°ë¥¼ ê²€ìƒ‰í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ì–¸ì–´
    3) ì¢…ë¥˜: SELECT
4. DCL (Data Control Language)
    1) ë°ì´í„° ì œì–´ì–´
    2) ë°ì´í„°ë¥¼ ì œì–´í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ì–¸ì–´
    3) ì¢…ë¥˜
        1) GRANT: ìŠ¹ì¸
        2) REVOKE: ìŠ¹ì¸í•´ì œ
5. TCL (Transaction Control Language)
    1) íŠ¸ëžœìž­ì…˜ ì œì–´ì–´
    2) íŠ¸ëžœìž­ì…˜ì„ ì²˜ë¦¬í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ì–¸ì–´
    3) ì¢…ë¥˜
       (1) COMMIT: íŠ¸ëžœìž­ì…˜ ì„±ê³µ (ìž‘ì—… ë‚´ìš© ì €ìž¥)
       (2) ROLLBACK: íŠ¸ëžœìž­ì…˜ ì‹¤íŒ¨ (ìž‘ì—… ë‚´ìš© ì·¨ì†Œ)

## ì‚¬ìš©ìž ê´€ë ¨ ì¿¼ë¦¬ë¬¸
  1. ì‚¬ìš©ìž ìƒì„±
        CREATE USER ì‚¬ìš©ìž@í˜¸ìŠ¤íŠ¸ IDENTIFIED BY ë¹„ë°€ë²ˆí˜¸;
        * í˜¸ìŠ¤íŠ¸ ê´€ë ¨
        1) localhost : ë¡œì»¬ì—ì„œë§Œ ì ‘ê·¼í•˜ëŠ” ì‚¬ìš©ìž
        2) %         : ì›ê²© ì ‘ì† ê°€ëŠ¥í•œ ì‚¬ìš©ìž
        3) íŠ¹ì •IP    : í•´ë‹¹ IPì—ì„œë§Œ ì ‘ê·¼í•˜ëŠ” ì‚¬ìš©ìž
    2. ì‚¬ìš©ìž ì œê±°
        DROP USER ì‚¬ìš©ìž@í˜¸ìŠ¤íŠ¸
        * @í˜¸ìŠ¤íŠ¸ ìƒëžµ ê°€ëŠ¥
    3. ì‚¬ìš©ìžì—ê²Œ ê¶Œí•œ ë¶€ì—¬
        GRANT ê¶Œí•œì¢…ë¥˜ PRIVILEGES ON ìŠ¤í‚¤ë§ˆ.ê°ì²´ TO ì‚¬ìš©ìž@í˜¸ìŠ¤íŠ¸

## ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ê´€ë ¨ ì¿¼ë¦¬ë¬¸
1. ë°ì´í„°ë² ì´ìŠ¤ ìƒì„±
  create database [if not exists] ë°ì´í„°ë² ì´ìŠ¤;
2. ë°ì´í„°ë² ì´ìŠ¤ ì‚­ì œ
  drop database [if exists] ë°ì´í„°ë² ì´ìŠ¤;

## DML

    ===== INSERT (ë°ì´í„° ì‚½ìž…í•˜ê¸°)
    ìžë™ìœ¼ë¡œ ìž…ë ¥ë˜ëŠ” ê°’ë“¤ì€ ì œì™¸í•˜ê³  INSERT í•œë‹¤
    1. ëª¨ë“œ ì¹¼ëŸ¼ì— ê°’ì„ ìž…ë ¥í•˜ëŠ” ê²½ìš° (*ì¹¼ëŸ¼ ë¦¬ìŠ¤íŠ¸ ìƒëžµ) 
    INSERT INTO í…Œì´ë¸” VALUES(ê°’1, ê°’2, ... ê°’N);
    2. ì¼ë¶€ ì¹¼ëŸ¼ì— ê°’ì„ ìž…ë ¥í•˜ëŠ” ê²½ìš°
    INSERT INTO í…Œì´ë¸”(ì¹¼ëŸ¼1, ì¹¼ëŸ¼2,...ì¹¼ëŸ¼N) VALUES(ê°’1, ê°’2, ... ê°’N);
    3. ì—¬ëŸ¬ í–‰ì„ í•œ ë²ˆì— ìž…ë ¥í•˜ëŠ” ê²½ìš°
    INSERT INTO í…Œì´ë¸”(ì¹¼ëŸ¼1, ì¹¼ëŸ¼2,...ì¹¼ëŸ¼N)
    VALUES (ê°’1, ê°’2, ... ê°’N),
           (ê°’1, ê°’2, ... ê°’N),
           (ê°’1, ê°’2, ... ê°’N);
    4. ë‹¤ë¥¸ í…Œì´ë¸”ì˜ í–‰ì„ ë³µì‚¬í•´ì„œ ìž…ë ¥í•˜ëŠ” ê²½ìš° (*VALUES ì—†ìŒ ì£¼ì˜)
    INSERT INTO í…Œì´ë¸”(ì¹¼ëŸ¼1, ì¹¼ëŸ¼2, ... ì¹¼ëŸ¼N)
    SELECT ì¹¼ëŸ¼1, ì¹¼ëŸ¼2, ...ì¹¼ëŸ¼N FROM ë‹¤ë¥¸ í…Œì´ë¸”;
    
    ===== UPDATE (ë°ì´í„° ìˆ˜ì •í•˜ê¸°)
    1. ëª¨ë“  í–‰ì„ ìˆ˜ì •í•˜ëŠ” ê²½ìš°
    UPDATE í…Œì´ë¸”
    SET ì¹¼ëŸ¼1 = ê°’1, ì¹¼ëŸ¼2 = ê°’2,...,ì¹¼ëŸ¼N = ê°’N;
    2. ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” í–‰ì„ ìˆ˜ì •í•˜ëŠ” ê²½ìš°
    UPDATE í…Œì´ë¸”
    SET ì¹¼ëŸ¼1 =(ëŒ€ìž…ì—°ì‚°) ê°’1, ì¹¼ëŸ¼2 = ê°’2,...,ì¹¼ëŸ¼N = ê°’N
    WHERE ì¡°ê±´ì¹¼ëŸ¼ (ë¹„êµì—°ì‚° = , >= , <=, >, <) ê°’;
    
    ===== DELETE (ë°ì´í„° ì‚­ì œí•˜ê¸°)
    1. ëª¨ë“  í–‰ì„ ì‚­ì œí•˜ëŠ” ê²½ìš°
    DELETE 
    FROM í…Œì´ë¸”;
    2. ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” í–‰ì„ ì‚­ì œí•˜ëŠ” ê²½ìš°
    DELETE
    FROM í…Œì´ë¸”
    WHERE ì¡°ê±´ì¹¼ëŸ¼ = ê°’;
## DQL
    1. ê¸°ë³¸ êµ¬ì¡°
    SELECT ì¹¼ëŸ¼1, ì¹¼ëŸ¼2, ...
    FROM í…Œì´ë¸”
    WHERE ì¡°ê±´ì¹¼ëŸ¼ = ê°’
    GROUP BY ê·¸ë£¹í™”ì¹¼ëŸ¼1, ê·¸ë£¹í™”ì¹¼ëŸ¼2 ...
    HAVING ê·¸ë£¹ì¡°ê±´ì¹¼ëŸ¼ = ê°’
    ORDER BY ì •ë ¬ì¹¼ëŸ¼ (ASC|DESC), ì •ë ¬ì¹¼ëŸ¼2 (ASC|DESC),...
    LIMIT ì‹œìž‘, ê°œìˆ˜;

    2. ê° ì ˆì˜ ì‹¤í–‰ ìˆœì„œ
        1) FROM
        ë°ì´í„°ë¥¼ ì¡°íšŒí•  í…Œì´ë¸”ì„ ì„ íƒ
        2) WHERE
        FROM ì ˆì—ì„œ ê°€ì ¸ì˜¨ ë°ì´í„° ì¤‘ ì¡°ê±´ì— ë§žëŠ” í–‰ë§Œ ì„ íƒ
        3) GROUP BY ì ˆ
        WHERE ì ˆì„ í†µê³¼í•œ ë°ì´í„°ë¥¼ ì§€ì •í•œ ì¹¼ëŸ¼ ê¸°ì¤€ìœ¼ë¡œ ê·¸ë£¹í™”
        4) HAVING ì ˆ
        GROUP BY ì ˆì— ì˜í•´ì„œ ê·¸ë£¹í™”ëœ ê²°ê³¼ ì¤‘ì—ì„œ ì¡°ê±´ì— ë§žëŠ” í–‰ë§Œ ì„ íƒí•œë‹¤
        5) SELECT ì ˆ
        ì§€ê¸ˆê¹Œì§€ ê³¼ì •ì„ ê±°ì¹œ í–‰(ë°ì´í„°)ì„ ì¡°íšŒí•  ë•Œ ì¡°íšŒí•  ì¹¼ëŸ¼ì„ ìž‘ì„±
        6) ORDER BY ì ˆ
        SELECT ì ˆì—ì„œ ì„ íƒí•œ ê²°ê³¼ ì§‘í•©ì„ ì§€ì •í•œ ì¹¼ëŸ¼ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬í•œë‹¤
        7) LIMIT ì ˆ
        ì§€ê¸ˆê¹Œì§€ ê³¼ì •ì„ ê±°ì¹œ í–‰(ë°ì´í„°)ì„ ì¡°íšŒí•  ë•Œ ê°œìˆ˜ë‚˜ ë²”ìœ„ë¥¼ ì œí•œ
        
    3. ê¸°íƒ€ íŠ¹ì§•
        1) SELECT ì ˆì„ ì œì™¸í•˜ë©´ ëª¨ë‘ ìƒëžµí•  ìˆ˜ ìžˆë‹¤
        2) SELECT ì ˆì—ì„œ ì¡°íšŒí•  ì¹¼ëŸ¼ì— ë³„ì¹­(ALIAS)ì„ ë¶€ì—¬í•  ìˆ˜ ìžˆëŠ”ë°, ì´ ë³„ì¹­ì€ ORDER BY ì ˆì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìžˆë‹¤
            (ë‹¤ë¥¸ ì ˆì—ì„œëŠ” ì¡°íšŒí•  ì¹¼ëŸ¼ì— ì§€ì •í•œ ë³„ì¹­ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤)
        3) GROUP BY ì ˆ ì—†ì´ë„ HAVING ì ˆì„ ì‚¬ìš©í•  ìˆ˜ ìžˆë‹¤
           (ì „ì²´ ë°ì´í„°ë¥¼ í•˜ë‚˜ì˜ ê·¸ë£¹ìœ¼ë¡œ ê°„ì£¼í•˜ê³  ì²˜ë¦¬í•œë‹¤)
        4) ORDER BY ì ˆì—ì„œ ì‚¬ìš©í•˜ëŠ” ì •ë ¬ í‚¤ì›Œë“œëŠ” ë‹¤ìŒ ì˜ë¯¸ë¥¼ ê°€ì§„ë‹¤
            1) ASC : ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬, ìƒëžµ ê°€ëŠ¥
            2) DESC : ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬, ìƒëžµ ë¶ˆê°€ëŠ¥
        5) LIMIT ì ˆì˜ ì‹œìž‘ ê°’ì€ ìƒëžµ í•  ìˆ˜ ìžˆë‹¤. ì´ ê²½ìš° ë°ì´í„°ì˜ ì²˜ìŒë¶€í„° ê°€ì ¸ì˜¨ë‹¤ 
           (ì²« í–‰ì˜ ì‹œìž‘ ê°’ì€ 0ì´ë‹¤)

### TINYINT
- mysqlì—ì„œ ì‚¬ìš©í•˜ëŠ” ì •ìˆ˜í˜• ë°ì´í„° íƒ€ìž…
- ê°€ìž¥ ìž‘ì€ í¬ê¸°ì˜ ì •ìˆ˜í˜• ë°ì´í„° íƒ€ìž…
- ì €ìž¥ ê³µê°„ì´ ìž‘ê¸° ë•Œë¬¸ì— ë©”ëª¨ë¦¬ì™€ ì €ìž¥ê³µê°„ì„ ì•„ë¼ê³  ì‹¶ì„ë•Œ ì‚¬ìš©

### DATETIME vs TIMESTAMP
- ë‚ ì§œì™€ ì‹œê°„ì„ ì €ìž¥í•˜ê¸° ìœ„í•œ ë°ì´í„° íƒ€ìž…
| êµ¬ë¶„          | `DATETIME`                                         | `TIMESTAMP`                                        |
| ----------- | -------------------------------------------------- | -------------------------------------------------- |
| ðŸ“… í˜•ì‹       | `YYYY-MM-DD HH:MM:SS`                              | `YYYY-MM-DD HH:MM:SS`                              |
| ðŸ§  ë‚´ë¶€ ì €ìž¥ ë°©ì‹ | **ë‚ ì§œì™€ ì‹œê°„ ìžì²´** ì €ìž¥ (8ë°”ì´íŠ¸)                            | **UNIX íƒ€ìž„ìŠ¤íƒ¬í”„**ë¡œ ì €ìž¥ (4ë°”ì´íŠ¸)                          |
| â° íƒ€ìž„ì¡´ ì˜í–¥    | **íƒ€ìž„ì¡´ ë¬´ê´€**                                         | **íƒ€ìž„ì¡´ ì˜í–¥ì„ ë°›ìŒ**                                     |
| ðŸ“† ë²”ìœ„       | `'1000-01-01 00:00:00'` \~ `'9999-12-31 23:59:59'` | `'1970-01-01 00:00:01'` \~ `'2038-01-19 03:14:07'` |
| ðŸ“¦ ì €ìž¥ ê³µê°„    | 8ë°”ì´íŠ¸                                               | 4ë°”ì´íŠ¸ (MySQL 5.5 ì´ì „ì€ 4ë°”ì´íŠ¸)                          |
| ðŸ•’ ìžë™ ì‹œê°„ ê°±ì‹  | ì§ì ‘ ì„¤ì • í•„ìš”                                           | ê¸°ë³¸ì ìœ¼ë¡œ `CURRENT_TIMESTAMP` ì‚¬ìš© ê°€ëŠ¥                    |
| ðŸ”„ ì‹œê°„ ë³€í™˜    | ì €ìž¥ëœ ëŒ€ë¡œ ê·¸ëŒ€ë¡œ ì¶œë ¥                                      | **íƒ€ìž„ì¡´ì— ë”°ë¼ ë³€í™˜ë˜ì–´ ì¶œë ¥**                                |

## ì„œë¸Œì¿¼ë¦¬
1. ì¿¼ë¦¬ ë‚´ë¶€ì— ë‹¤ë¥¸ ì¿¼ë¦¬ë¥¼ í¬í•¨í•˜ëŠ” ê²ƒì„ ì˜ë¯¸
2. ì¿¼ë¦¬ê°€ í¬í•¨ë˜ëŠ” ì ˆì— ë”°ë¼ ì¢…ë¥˜ë¥¼ êµ¬ë¶„ í•œë‹¤
3. ì¢…ë¥˜
    1) WHERE ì ˆ: ì¤‘ì²© ì„œë¸Œì¿¼ë¦¬ (ë‹¨ì¼ í–‰ ì„œë¸Œì¿¼ë¦¬, ë‹¤ì¤‘ í–‰ ì„œë¸Œì¿¼ë¦¬)
    2) FROM ì ˆ: ì¸ë¼ì¸ ë·°(í…Œì´ë¸” í˜•ì‹ì˜ ê²°ê³¼ ë°˜í™˜)
    3) SELECT ì ˆ: ìŠ¤ì¹¼ë¼ ì„œë¸Œì¿¼ë¦¬
    4) ìŠ¤ì¹¼ë¼ ì„œë¸Œì¿¼ë¦¬(í•˜ë‚˜ì˜ ê°’ì„ ë°˜í™˜í•˜ëŠ” ì„œë¸Œì¿¼ë¦¬)


